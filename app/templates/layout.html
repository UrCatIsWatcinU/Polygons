{% macro drop_menu(user, add_btns = [], btns = [
  {
    'name': _('Main'),
    'href': url_for('index'),
    'class': 'back'
  },  
  {
    'name': _('Users list'),
    'href': url_for('users_all')
  },  
  {
    'name': _('Profile'),
    'href': url_for('user', id=user.id)
  },  
  {
    'name': _('Messages'),
    'href': url_for('messages')
  }, 
  {
    'name': _('Help'),
    'href': url_for('help')
  } 
], title = '') -%}
  <div class="menu-cont">
    <a href="/notifications" class="menu-cont-btn menu-cont-notifications">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="menu-cont-svg">
        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
        <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
      </svg>
      {% set unreaded_notifications = user.get_unreaded_notifications_count() %}
      <div class="notifications-count {% if not unreaded_notifications %} notifications-countInvisible {% endif %}">
        {{unreaded_notifications}}
      </div>
    </a>
    <div class="menu-cont-btn menu-cont-lang">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="menu-cont-svg">
        <circle cx="12" cy="12" r="10"></circle>
        <line x1="2" y1="12" x2="22" y2="12"></line>
        <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
      </svg>
    </div>
    <div class="user-cont">
      <span class="username"> {{ user.username }}</span>
      <svg class="drop-menu-arrow" preserveAspectRatio="none" viewBox="0,0,100,100">
        <polygon points="0,0 100,0 50,100"/>
      </svg>
      <div class="drop-menu">
        {% for btn in btns + add_btns %}
          {% if btn.name != title %}
            <button class="drop-menu-button {{ btn.class or '' }}" onclick="window.location.href = `{{ btn.href }}`">{{ btn.name }}</button>
          {% endif %}
        {% endfor %}
        <button class="auth logout" style="color: var(--red-c)">{{ _('Logout') }}</button>
      </div>
    </div>
  </div>
{%- endmacro %}

{% macro loading_head() -%}
<script>
  let loadingColors = JSON.parse(localStorage.getItem('colors'));
  if(!loadingColors){
    loadingColors = {
      BODY_BGC:'#f0f0f0',
      ABOUT_BGC: '#dfdfdf',
      BLACK_C:'#333333',
      MAIN_C:'#974E9E',
      DARK_MAIN_C: '#703868',
      HEX_STROKE_C: '#333333'
    }
  }

  document.addEventListener('DOMContentLoaded', () => {
    if(!document.body) return;
    document.body.style.setProperty('--body-bgc', loadingColors.BODY_BGC);
    document.body.style.setProperty('--dark-main-c', loadingColors.DARK_MAIN_C);
  });
</script>
<style>
  body{
    height: 100vh;
  }
  .while-loading *{
    visibility: hidden;
  }
  .loading{
    opacity: 1;
    transition: opacity .4s linear;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: var(--body-bgc);
    position: fixed;
    left: 0;
    bottom: 0;
    z-index: 100;
    visibility: visible;
  }
  .loading *{
    visibility: inherit;
  }
  .loading-svg{
    visibility: visible;
    height: 100px;
    fill: var(--dark-main-c);
  }
</style>
{%- endmacro %}

{% macro public_scripts() -%}
  <script src="{{url_for('static', filename='i18n.js')}}"></script>
  <script src="{{url_for('static', filename='customElementsPolyfill.js')}}"></script>
  <script src="{{url_for('static', filename='jscolor.js')}}"></script>
  <script src="{{url_for('static', filename='socketio.js')}}"></script>
  <script src="{{url_for('static', filename='fontsloader.js')}}"></script>
  <script src="{{ url_for('static', filename='rounding.js') }}"></script>
  <script src="{{ url_for('static', filename='tinycolor.js') }}"></script>
  <script src="{{url_for('static', filename='public.js')}}"></script>
{%- endmacro %}

{% macro public_static() -%}
  <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.png') }}" type="image/png">
  <link rel="stylesheet" href="{{url_for('static', filename='public.css')}}">    
{%- endmacro %}

{% macro loading() -%}
  <div class="loading">
    <svg class='loading-svg' version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
      viewBox="0 0 52 100" enable-background="new 0 0 0 0" xml:space="preserve">
      <circle stroke="none" cx="6" cy="50" r="6">
        <animate
          attributeName="opacity"
          dur="1s"
          values="0;1;0"
          repeatCount="indefinite"
          begin="0.1"/>    
      </circle>
      <circle stroke="none" cx="26" cy="50" r="6">
        <animate
          attributeName="opacity"
          dur="1s"
          values="0;1;0"
          repeatCount="indefinite" 
          begin="0.2"/>       
      </circle>
      <circle stroke="none" cx="46" cy="50" r="6">
        <animate
          attributeName="opacity"
          dur="1s"
          values="0;1;0"
          repeatCount="indefinite" 
          begin="0.3"/>     
      </circle>
    </svg>
  </div>
{%- endmacro %}

{% macro modal() -%}
  <div class="modal">
    <div class="modal-content">
      <h2 class="modal-title"></h2>
      <p class="modal-body"></p>
      <button>Close</button>
    </div>
  </div>
{%- endmacro %}


<!DOCTYPE html>
<html lang="en" userId="{{ user.id if user else '' }}">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  {{ loading_head() }}
  {% block head_sources %}
    {{ public_scripts() }}
    {{ public_static() }}
  {% endblock %}
  
  {% block head %}
  {% endblock %}
  <title>Library Hexagon | {{title}}</title>
</head>
<body class="main while-loading"> 
  {{ loading() }}
  {{ modal() }}
  <header class="header">
    {% if title != 'Main' %}
      <svg class="header-img small" viewBox="0 0 201 201" fill="#703868" xmlns="http://www.w3.org/2000/svg">
        <path d="M148.86 67.75V134.8L133.26 143.8L131.39 144.88V109.63H108.61V158.04L106.94 158.99L91.14 168.12V22.43L86.83 20.05L83.54 21.95L73.87 27.52L66.07 32.01L55.44 38.14L43.29 45.14L25.82 55.21L17.47 60.02V140L24.07 143.8L25.82 144.81L43.29 154.88L47.96 157.57H47.97L55.44 161.88V182.05L43.29 175.04L25.82 164.98L17.47 160.16L0 150.1V49.92L0.960007 49.37L17.47 39.86L25.82 35.04L43.29 24.98L55.44 17.98L55.74 17.8L68.96 10.18L86.64 0L91.14 2.47L104.52 9.86002L108.61 12.11V92.16H131.39V58.38L148.86 67.75Z" />
        <path d="M157.22 38.92L148.87 34.32L131.4 24.68L118.49 17.56V37.51L131.4 44.63L148.87 54.27L157.22 58.88V140.71L151.84 143.81L148.86 145.53L131.39 155.59L118.48 163.03L113.57 165.86L108.6 168.72L97.19 175.29L91.13 178.78L90.88 178.92L87.95 180.61C86.55 179.66 85.15 178.72 83.74 177.77C83.74 167.96 83.74 158.14 83.74 148.33C70.25 140.24 56.77 132.15 43.28 124.06C43.28 102.11 43.28 80.16 43.28 58.21L25.81 68.3V134.1C31.27 137.54 36.89 140.98 42.66 144.42C50.5 149.09 58.21 153.5 65.78 157.67C65.78 167.72 65.78 177.78 65.78 187.83C67.33 188.78 68.89 189.74 70.44 190.69L83.53 198.23L87.94 200.77L89.09 200.11L91.13 198.93L103.4 191.86L105.44 190.68L108.59 188.86L114.67 185.36L118.47 183.17L126.08 178.78L131.38 175.73L148.85 165.67L157.2 160.85L174.67 150.79V48.56L157.22 38.92Z" />
      </svg>
      <svg class="header-img big" viewBox="0 0 603 201" fill="#703868" xmlns="http://www.w3.org/2000/svg">
        <path d="M148.86 67.75V134.8L133.26 143.8L131.39 144.88V109.63H108.61V158.04L106.94 158.99L91.14 168.12V22.43L86.83 20.05L83.54 21.95L73.87 27.52L66.07 32.01L55.44 38.14L43.29 45.14L25.82 55.21L17.47 60.02V140L24.07 143.8L25.82 144.81L43.29 154.88L47.96 157.57H47.97L55.44 161.88V182.05L43.29 175.04L25.82 164.98L17.47 160.16L0 150.1V49.92L0.960007 49.37L17.47 39.86L25.82 35.04L43.29 24.98L55.44 17.98L55.74 17.8L68.96 10.18L86.64 0L91.14 2.47L104.52 9.86002L108.61 12.11V92.16H131.39V58.38L148.86 67.75Z" />
        <path d="M157.22 38.92L148.87 34.32L131.4 24.68L118.49 17.56V37.51L131.4 44.63L148.87 54.27L157.22 58.88V140.71L151.84 143.81L148.86 145.53L131.39 155.59L118.48 163.03L113.57 165.86L108.6 168.72L97.19 175.29L91.13 178.78L90.88 178.92L87.95 180.61C86.55 179.66 85.15 178.72 83.74 177.77C83.74 167.96 83.74 158.14 83.74 148.33C70.25 140.24 56.77 132.15 43.28 124.06C43.28 102.11 43.28 80.16 43.28 58.21L25.81 68.3V134.1C31.27 137.54 36.89 140.98 42.66 144.42C50.5 149.09 58.21 153.5 65.78 157.67C65.78 167.72 65.78 177.78 65.78 187.83C67.33 188.78 68.89 189.74 70.44 190.69L83.53 198.23L87.94 200.77L89.09 200.11L91.13 198.93L103.4 191.86L105.44 190.68L108.59 188.86L114.67 185.36L118.47 183.17L126.08 178.78L131.38 175.73L148.85 165.67L157.2 160.85L174.67 150.79V48.56L157.22 38.92Z" />
        <path d="M220.18 97.9H235.41V101.78H215.98V63.7H220.18V97.9Z"/>
        <path d="M243.86 68.96C243.41 68.68 243.06 68.32 242.8 67.88C242.54 67.43 242.41 66.93 242.41 66.38C242.41 65.86 242.54 65.36 242.8 64.9C243.06 64.44 243.42 64.08 243.86 63.82C244.31 63.56 244.81 63.43 245.36 63.43C245.88 63.43 246.38 63.56 246.84 63.82C247.3 64.08 247.67 64.44 247.95 64.9C248.23 65.36 248.37 65.85 248.37 66.38C248.37 66.93 248.24 67.43 247.98 67.88C247.72 68.33 247.35 68.69 246.87 68.96C246.39 69.24 245.89 69.38 245.37 69.38C244.81 69.38 244.3 69.24 243.86 68.96ZM247.44 78.1V101.78H243.15V78.1H247.44Z" />
        <path d="M260.25 62.08V82.71C260.4 82.03 260.87 81.28 261.63 80.45C262.4 79.62 263.42 78.9 264.7 78.3C265.98 77.7 267.45 77.4 269.11 77.4C271.3 77.4 273.29 77.92 275.09 78.95C276.89 79.98 278.32 81.45 279.38 83.36C280.44 85.27 280.97 87.47 280.97 89.96C280.97 92.45 280.44 94.65 279.38 96.54C278.32 98.43 276.89 99.89 275.09 100.93C273.29 101.96 271.3 102.48 269.11 102.48C267.51 102.48 266.07 102.17 264.79 101.56C263.51 100.94 262.47 100.21 261.65 99.34C260.83 98.47 260.33 97.71 260.15 97.03V101.78H255.9V62.08H260.25V62.08ZM275.55 85.28C274.77 83.94 273.73 82.9 272.46 82.16C271.18 81.42 269.82 81.05 268.38 81.05C266.84 81.05 265.46 81.42 264.23 82.16C263 82.9 262.03 83.94 261.32 85.28C260.61 86.62 260.26 88.18 260.26 89.97C260.26 91.76 260.61 93.31 261.32 94.63C262.03 95.95 263 96.98 264.23 97.72C265.46 98.46 266.85 98.83 268.38 98.83C269.83 98.83 271.19 98.47 272.46 97.75C273.74 97.03 274.77 96 275.55 94.66C276.33 93.32 276.73 91.76 276.73 89.97C276.72 88.18 276.33 86.62 275.55 85.28Z" />
        <path d="M286.49 78.1H290.74V82.25H290.6C290.72 81.7 291.11 81.04 291.75 80.27C292.4 79.5 293.27 78.83 294.36 78.26C295.45 77.69 296.68 77.41 298.03 77.41C299.01 77.41 299.91 77.53 300.71 77.78C301.51 78.03 302.16 78.33 302.65 78.7L300.9 82.3C300.53 81.96 300 81.68 299.31 81.45C298.62 81.22 297.84 81.1 296.98 81.1C295.78 81.1 294.7 81.5 293.75 82.3C292.8 83.1 292.06 84.08 291.53 85.23C291.01 86.38 290.75 87.47 290.75 88.48V101.77H286.5V78.1H286.49Z" />
        <path d="M324.06 99.22C323.28 100.1 322.22 100.86 320.9 101.5C319.58 102.15 318.1 102.47 316.47 102.47C314.28 102.47 312.3 101.95 310.51 100.92C308.72 99.89 307.3 98.43 306.24 96.53C305.18 94.63 304.65 92.45 304.65 89.95C304.65 87.46 305.18 85.26 306.24 83.35C307.3 81.44 308.72 79.97 310.51 78.94C312.29 77.91 314.28 77.39 316.47 77.39C318.1 77.39 319.57 77.69 320.88 78.29C322.19 78.89 323.24 79.61 324.04 80.46C324.84 81.31 325.32 82.05 325.47 82.7V78.08H329.72V101.76H325.47V97.01C325.32 97.61 324.85 98.34 324.06 99.22ZM310.08 94.65C310.87 95.99 311.9 97.02 313.17 97.74C314.45 98.46 315.81 98.82 317.25 98.82C318.79 98.82 320.18 98.45 321.43 97.71C322.68 96.97 323.65 95.94 324.34 94.62C325.03 93.3 325.38 91.74 325.38 89.96C325.38 88.18 325.03 86.61 324.34 85.27C323.65 83.93 322.68 82.89 321.43 82.15C320.18 81.41 318.79 81.04 317.25 81.04C315.8 81.04 314.44 81.41 313.17 82.15C311.89 82.89 310.86 83.93 310.08 85.27C309.29 86.61 308.9 88.17 308.9 89.96C308.9 91.75 309.29 93.31 310.08 94.65Z" />
        <path d="M337.31 78.1H341.56V82.25H341.42C341.54 81.7 341.93 81.04 342.57 80.27C343.21 79.5 344.09 78.83 345.18 78.26C346.27 77.69 347.5 77.41 348.85 77.41C349.83 77.41 350.73 77.53 351.53 77.78C352.33 78.03 352.98 78.33 353.47 78.7L351.72 82.3C351.35 81.96 350.82 81.68 350.13 81.45C349.44 81.22 348.66 81.1 347.8 81.1C346.6 81.1 345.52 81.5 344.57 82.3C343.62 83.1 342.88 84.08 342.35 85.23C341.83 86.38 341.56 87.47 341.56 88.48V101.77H337.31V78.1V78.1Z" />
        <path d="M379.52 78.1L363.59 113.78H359.2L364.55 101.78L354.86 78.1H359.25L366.87 97.77L375.18 78.1H379.52Z" />
        <path d="M403.3 101.78H399.15V63.7H403.3V80.73H420.47V63.7H424.67V101.78H420.47V84.61H403.3V101.78Z" />
        <path d="M436.76 94.6C437.42 95.94 438.37 97.02 439.6 97.83C440.83 98.64 442.26 99.05 443.89 99.05C445.89 99.05 447.54 98.62 448.83 97.76C450.12 96.9 451.14 95.93 451.88 94.85L454.33 97.53C453.16 99.19 451.75 100.43 450.08 101.25C448.42 102.07 446.29 102.47 443.71 102.47C441.31 102.47 439.19 101.92 437.34 100.83C435.49 99.74 434.05 98.21 433.02 96.26C431.99 94.31 431.47 92.1 431.47 89.64C431.47 87.36 431.98 85.29 433.02 83.43C434.05 81.57 435.48 80.1 437.31 79.02C439.14 77.94 441.16 77.4 443.38 77.4C445.47 77.4 447.38 77.88 449.1 78.85C450.82 79.82 452.19 81.2 453.21 83C454.23 84.8 454.73 86.87 454.73 89.21C454.73 89.3 454.73 89.4 454.73 89.51C454.73 89.62 454.71 89.7 454.68 89.76C454.68 89.85 454.68 89.94 454.68 90.04C454.68 90.13 454.68 90.21 454.68 90.27H435.71C435.76 91.83 436.1 93.26 436.76 94.6ZM449.57 84.45C449.02 83.33 448.21 82.41 447.15 81.7C446.09 80.99 444.85 80.64 443.43 80.64C441.95 80.64 440.65 80.99 439.53 81.68C438.41 82.37 437.54 83.27 436.92 84.38C436.3 85.49 435.95 86.64 435.86 87.84H450.49C450.43 86.7 450.13 85.57 449.57 84.45Z" />
        <path d="M478.73 101.78L470.74 91.95L462.8 101.78H458.05L468.34 89.55L459.11 78.1H464.14L470.97 86.73L477.89 78.1H482.55L473.41 89.27L483.7 101.78H478.73V101.78Z" />
        <path d="M506.7 99.22C505.92 100.1 504.86 100.86 503.54 101.5C502.22 102.15 500.74 102.47 499.11 102.47C496.93 102.47 494.94 101.95 493.16 100.92C491.37 99.89 489.95 98.43 488.89 96.53C487.83 94.64 487.3 92.45 487.3 89.95C487.3 87.46 487.83 85.26 488.89 83.35C489.95 81.44 491.38 79.97 493.16 78.94C494.94 77.91 496.93 77.39 499.11 77.39C500.74 77.39 502.21 77.69 503.52 78.29C504.83 78.89 505.88 79.61 506.68 80.46C507.48 81.31 507.96 82.05 508.11 82.7V78.08H512.35V101.76H508.1V97.01C507.95 97.61 507.48 98.34 506.7 99.22ZM492.71 94.65C493.49 95.99 494.53 97.02 495.8 97.74C497.08 98.46 498.44 98.82 499.88 98.82C501.42 98.82 502.81 98.45 504.06 97.71C505.31 96.97 506.28 95.94 506.97 94.62C507.66 93.3 508.01 91.74 508.01 89.96C508.01 88.18 507.66 86.61 506.97 85.27C506.28 83.93 505.31 82.89 504.06 82.15C502.81 81.41 501.42 81.04 499.88 81.04C498.43 81.04 497.07 81.41 495.8 82.15C494.52 82.89 493.49 83.93 492.71 85.27C491.92 86.61 491.53 88.17 491.53 89.96C491.53 91.75 491.93 93.31 492.71 94.65Z" />
        <path d="M537.79 99.22C537.01 100.1 535.95 100.86 534.63 101.5C533.31 102.15 531.83 102.47 530.2 102.47C528.02 102.47 526.03 101.95 524.25 100.92C522.46 99.89 521.04 98.43 519.98 96.53C518.92 94.64 518.39 92.45 518.39 89.95C518.39 87.46 518.92 85.26 519.98 83.35C521.04 81.44 522.47 79.97 524.25 78.94C526.03 77.91 528.02 77.39 530.2 77.39C531.83 77.39 533.3 77.69 534.61 78.29C535.92 78.89 536.97 79.61 537.77 80.46C538.57 81.31 539.05 82.05 539.2 82.7V78.08H543.45V101.76H539.2V97.01C539.04 97.61 538.57 98.34 537.79 99.22ZM524.05 113.18C522.14 112.35 520.68 111.23 519.66 109.81L522.61 107.09C523.35 108.14 524.33 109.01 525.57 109.72C526.8 110.43 528.62 110.78 531.02 110.78C532.74 110.78 534.22 110.4 535.45 109.65C536.68 108.9 537.61 107.86 538.24 106.56C538.87 105.25 539.19 103.78 539.19 102.15V101.37H543.44V102.48C543.44 105 542.9 107.17 541.82 108.99C540.74 110.81 539.27 112.17 537.41 113.07C535.55 113.98 533.46 114.43 531.16 114.43C528.33 114.43 525.96 114.01 524.05 113.18ZM523.8 94.65C524.58 95.99 525.62 97.02 526.89 97.74C528.17 98.46 529.53 98.82 530.97 98.82C532.51 98.82 533.9 98.45 535.15 97.71C536.4 96.97 537.37 95.94 538.06 94.62C538.75 93.3 539.1 91.74 539.1 89.96C539.1 88.18 538.75 86.61 538.06 85.27C537.37 83.93 536.4 82.89 535.15 82.15C533.9 81.41 532.51 81.04 530.97 81.04C529.52 81.04 528.16 81.41 526.89 82.15C525.61 82.89 524.58 83.93 523.8 85.27C523.01 86.61 522.62 88.17 522.62 89.96C522.62 91.75 523.02 93.31 523.8 94.65Z" />
        <path d="M555.3 100.83C553.41 99.74 551.93 98.24 550.87 96.33C549.81 94.42 549.28 92.31 549.28 90.01C549.28 87.7 549.81 85.58 550.87 83.64C551.93 81.7 553.41 80.18 555.3 79.07C557.19 77.96 559.32 77.41 561.69 77.41C564.03 77.41 566.14 77.96 568.01 79.07C569.89 80.18 571.35 81.69 572.39 83.62C573.44 85.54 573.96 87.67 573.96 90.01C573.96 92.35 573.44 94.47 572.39 96.36C571.34 98.25 569.89 99.75 568.03 100.84C566.17 101.93 564.05 102.48 561.68 102.48C559.33 102.47 557.2 101.93 555.3 100.83ZM565.99 97.6C567.22 96.85 568.17 95.81 568.85 94.48C569.53 93.16 569.86 91.66 569.86 90C569.86 88.34 569.52 86.84 568.85 85.5C568.17 84.16 567.22 83.1 565.99 82.31C564.76 81.53 563.33 81.13 561.7 81.13C560.07 81.13 558.63 81.52 557.38 82.31C556.13 83.1 555.16 84.16 554.47 85.5C553.78 86.84 553.43 88.34 553.43 90C553.43 91.66 553.78 93.16 554.47 94.48C555.16 95.8 556.13 96.84 557.38 97.6C558.63 98.35 560.06 98.73 561.7 98.73C563.33 98.73 564.76 98.36 565.99 97.6Z" />
        <path d="M597.52 78.42C598.95 79.1 600.12 80.15 601.03 81.58C601.94 83.01 602.39 84.8 602.39 86.96V101.78H598.1V87.84C598.1 85.47 597.55 83.71 596.44 82.55C595.33 81.4 593.82 80.82 591.92 80.82C590.72 80.82 589.56 81.17 588.43 81.86C587.31 82.55 586.4 83.49 585.71 84.68C585.02 85.87 584.67 87.18 584.67 88.63V101.79H580.38V78.11H584.67V82.45C584.82 81.77 585.3 81.04 586.1 80.26C586.9 79.48 587.91 78.81 589.12 78.25C590.33 77.69 591.61 77.42 592.93 77.42C594.56 77.41 596.09 77.75 597.52 78.42Z" />
        <path d="M289.72 121.6V139.39H288.97L277.99 126.46C277.73 126.15 277.31 125.66 276.72 125.01C276.77 125.55 276.8 126.11 276.8 126.7V139.27H275.09V121.48H275.82L286.78 134.36L288.08 135.84C288.05 135.41 288.03 134.79 288.03 134V121.62H289.72V121.6Z" />
        <path d="M303.67 129C304.58 130 305.03 131.35 305.03 133.05C305.03 133.4 305 133.77 304.95 134.17H295.76C295.88 135.36 296.35 136.31 297.16 137.01C297.97 137.71 298.93 138.06 300.04 138.06C300.82 138.06 301.48 137.94 302.03 137.71C302.58 137.48 303.08 137.13 303.55 136.66L304.46 137.8C303.25 138.96 301.79 139.54 300.07 139.54C298.93 139.54 297.91 139.29 297.01 138.77C296.11 138.26 295.41 137.55 294.91 136.63C294.41 135.71 294.16 134.67 294.16 133.49C294.16 132.38 294.41 131.37 294.9 130.47C295.39 129.56 296.08 128.84 296.96 128.3C297.84 127.76 298.84 127.49 299.95 127.49C301.52 127.49 302.76 128 303.67 129ZM297.19 130.01C296.43 130.7 295.96 131.62 295.79 132.76H303.48C303.44 131.57 303.11 130.64 302.47 129.97C301.83 129.3 300.98 128.97 299.93 128.97C298.87 128.97 297.96 129.32 297.19 130.01Z" />
        <path d="M323.34 127.78V127.83L319.32 139.39H318.83L315.27 131.44L311.66 139.39H311.19L307.17 127.84V127.79H308.78L311.17 134.67C311.29 135.03 311.44 135.52 311.61 136.12C311.73 135.76 311.92 135.29 312.18 134.72L315.06 128.41H315.45L318.31 134.69C318.53 135.14 318.73 135.63 318.91 136.14C319.12 135.43 319.27 134.93 319.38 134.63L321.74 127.78H323.34V127.78Z" />
        <path d="M348.11 129.88V136.14C347.3 137.25 346.28 138.1 345.06 138.68C343.84 139.27 342.49 139.56 341.02 139.56C339.29 139.56 337.74 139.16 336.36 138.37C334.98 137.57 333.91 136.48 333.13 135.09C332.35 133.7 331.96 132.13 331.96 130.4C331.96 128.72 332.33 127.19 333.06 125.8C333.8 124.42 334.84 123.32 336.2 122.5C337.56 121.69 339.13 121.28 340.91 121.28C343.56 121.28 345.79 122.29 347.61 124.32L346.49 125.38C344.97 123.7 343.11 122.86 340.91 122.86C339.46 122.86 338.18 123.19 337.09 123.85C336 124.51 335.16 125.41 334.56 126.55C333.96 127.69 333.66 128.97 333.66 130.39C333.66 131.84 333.97 133.15 334.59 134.3C335.21 135.45 336.09 136.35 337.23 137C338.36 137.65 339.67 137.97 341.14 137.97C342.23 137.97 343.23 137.77 344.14 137.37C345.05 136.97 345.82 136.39 346.46 135.63V131.42H340.88V129.86H348.11V129.88Z" />
        <path d="M360.95 129C361.86 130 362.31 131.35 362.31 133.05C362.31 133.4 362.28 133.77 362.23 134.17H353.04C353.16 135.36 353.63 136.31 354.44 137.01C355.25 137.71 356.21 138.06 357.32 138.06C358.1 138.06 358.76 137.94 359.31 137.71C359.86 137.48 360.36 137.13 360.83 136.66L361.74 137.8C360.53 138.96 359.07 139.54 357.35 139.54C356.21 139.54 355.19 139.29 354.29 138.77C353.39 138.26 352.69 137.55 352.19 136.63C351.69 135.71 351.44 134.67 351.44 133.49C351.44 132.38 351.69 131.37 352.18 130.47C352.67 129.56 353.36 128.84 354.24 128.3C355.12 127.76 356.12 127.49 357.23 127.49C358.8 127.49 360.04 128 360.95 129ZM354.47 130.01C353.71 130.7 353.24 131.62 353.07 132.76H360.76C360.72 131.57 360.39 130.64 359.75 129.97C359.11 129.3 358.26 128.97 357.21 128.97C356.14 128.97 355.24 129.32 354.47 130.01Z" />
        <path d="M374.65 128.77C375.34 129.58 375.69 130.74 375.69 132.25V139.26H374.11V132.22C374.11 130.09 373.23 129.03 371.46 129.03C370.32 129.03 369.39 129.41 368.68 130.16C367.97 130.91 367.62 131.89 367.62 133.08V139.26H366.04V127.78H367.23L367.59 129.73C367.95 129.09 368.48 128.57 369.17 128.16C369.86 127.75 370.68 127.55 371.61 127.55C372.94 127.55 373.96 127.95 374.65 128.77Z" />
        <path d="M388.92 129C389.83 130 390.28 131.35 390.28 133.05C390.28 133.4 390.25 133.77 390.2 134.17H381.01C381.13 135.36 381.6 136.31 382.41 137.01C383.22 137.71 384.18 138.06 385.29 138.06C386.07 138.06 386.73 137.94 387.28 137.71C387.82 137.48 388.33 137.13 388.8 136.66L389.71 137.8C388.5 138.96 387.04 139.54 385.32 139.54C384.18 139.54 383.16 139.29 382.26 138.77C381.36 138.26 380.66 137.55 380.16 136.63C379.66 135.71 379.41 134.67 379.41 133.49C379.41 132.38 379.66 131.37 380.15 130.47C380.64 129.56 381.33 128.84 382.21 128.3C383.09 127.76 384.09 127.49 385.2 127.49C386.77 127.49 388.01 128 388.92 129ZM382.44 130.01C381.68 130.7 381.21 131.62 381.04 132.76H388.73C388.7 131.57 388.36 130.64 387.72 129.97C387.08 129.3 386.23 128.97 385.18 128.97C384.11 128.97 383.2 129.32 382.44 130.01Z" />
        <path d="M400.72 127.94L400.25 129.34C399.71 129.15 399.2 129.05 398.72 129.05C397.77 129.05 397.01 129.37 396.43 130C395.85 130.63 395.57 131.5 395.57 132.61V139.26H393.99V127.78H395.18L395.49 129.47C396.18 128.19 397.3 127.55 398.84 127.55C399.52 127.55 400.15 127.68 400.72 127.94Z" />
        <path d="M410.7 128.68C411.49 129.36 411.88 130.35 411.88 131.63V139.26H410.71L410.42 137.18C409.99 137.89 409.4 138.45 408.67 138.85C407.93 139.26 407.07 139.46 406.09 139.46C404.97 139.46 404.07 139.17 403.42 138.6C402.76 138.03 402.43 137.25 402.43 136.26C402.43 135 402.96 134.01 404.01 133.29C405.07 132.57 406.45 132.21 408.16 132.21C409.03 132.21 409.73 132.25 410.26 132.31V131.53C410.26 130.73 410 130.13 409.48 129.73C408.96 129.32 408.25 129.12 407.35 129.12C406.19 129.12 404.93 129.44 403.56 130.08L403.02 128.73C404.58 128 406.07 127.64 407.51 127.64C408.85 127.65 409.91 127.99 410.7 128.68ZM409.17 136.8C409.87 136.01 410.24 134.96 410.27 133.65C409.72 133.58 409.09 133.55 408.4 133.55C407.03 133.55 405.97 133.78 405.22 134.24C404.47 134.7 404.09 135.34 404.09 136.17C404.09 136.74 404.29 137.19 404.69 137.51C405.09 137.83 405.64 137.99 406.35 137.99C407.53 137.98 408.47 137.59 409.17 136.8Z" />
        <path d="M417.79 138.61C417.26 138.04 417 137.17 417 136.01V129.18L414.77 129.08V127.78H417V123.96H418.58V127.78H422.68V129.18H418.58V136.01C418.58 136.7 418.71 137.2 418.98 137.5C419.25 137.8 419.65 137.96 420.19 137.96C420.97 137.96 421.72 137.7 422.45 137.18L423.15 138.37C422.2 139.1 421.16 139.46 420.03 139.46C419.07 139.47 418.32 139.18 417.79 138.61Z" />
        <path d="M426.11 124.43C425.88 124.21 425.77 123.94 425.77 123.63C425.77 123.28 425.88 123 426.09 122.77C426.31 122.55 426.6 122.43 426.96 122.43C427.32 122.43 427.61 122.54 427.83 122.77C428.05 123 428.15 123.28 428.15 123.63C428.15 123.96 428.04 124.23 427.81 124.45C427.58 124.67 427.3 124.78 426.95 124.78C426.6 124.78 426.34 124.66 426.11 124.43ZM426.17 127.78H427.75V139.26H426.17V127.78Z" />
        <path d="M434.47 138.78C433.57 138.27 432.87 137.56 432.37 136.64C431.87 135.72 431.62 134.68 431.62 133.52C431.62 132.36 431.87 131.32 432.37 130.4C432.87 129.48 433.57 128.77 434.47 128.26C435.37 127.75 436.39 127.49 437.53 127.49C438.69 127.49 439.72 127.75 440.62 128.26C441.52 128.77 442.23 129.48 442.74 130.4C443.25 131.32 443.51 132.36 443.51 133.52C443.51 134.68 443.25 135.72 442.74 136.64C442.23 137.56 441.52 138.27 440.62 138.78C439.72 139.29 438.69 139.55 437.53 139.55C436.4 139.54 435.37 139.29 434.47 138.78ZM440.68 136.79C441.49 135.94 441.9 134.85 441.9 133.52C441.9 132.19 441.5 131.1 440.69 130.25C439.89 129.4 438.83 128.98 437.53 128.98C436.7 128.98 435.95 129.17 435.3 129.56C434.64 129.95 434.13 130.49 433.77 131.18C433.41 131.87 433.23 132.65 433.23 133.52C433.23 134.85 433.63 135.94 434.44 136.79C435.24 137.64 436.28 138.06 437.54 138.06C438.82 138.06 439.87 137.64 440.68 136.79Z" />
        <path d="M456 128.77C456.69 129.58 457.04 130.74 457.04 132.25V139.26H455.46V132.22C455.46 130.09 454.58 129.03 452.81 129.03C451.67 129.03 450.74 129.41 450.03 130.16C449.32 130.91 448.97 131.89 448.97 133.08V139.26H447.39V127.78H448.58L448.94 129.73C449.3 129.09 449.83 128.57 450.52 128.16C451.21 127.75 452.03 127.55 452.96 127.55C454.29 127.55 455.31 127.95 456 128.77Z" />
        <path d="M468.72 121.6H470.43V137.7H478.95V139.26H468.72V121.6Z" />
        <path d="M482.35 124.43C482.12 124.21 482.01 123.94 482.01 123.63C482.01 123.28 482.12 123 482.33 122.77C482.55 122.55 482.84 122.43 483.2 122.43C483.56 122.43 483.85 122.54 484.07 122.77C484.29 123 484.39 123.28 484.39 123.63C484.39 123.96 484.28 124.23 484.05 124.45C483.82 124.67 483.54 124.78 483.19 124.78C482.84 124.78 482.58 124.66 482.35 124.43ZM482.41 127.78H483.99V139.26H482.41V127.78Z" />
        <path d="M497.63 128.31C498.5 128.82 499.19 129.53 499.68 130.43C500.17 131.33 500.42 132.34 500.42 133.47C500.42 134.63 500.18 135.67 499.69 136.59C499.2 137.51 498.52 138.23 497.65 138.75C496.78 139.27 495.78 139.53 494.65 139.53C493.68 139.53 492.81 139.33 492.03 138.93C491.25 138.53 490.62 137.98 490.13 137.27L489.9 139.27H488.68V120.65H490.26V126.62C490.26 127.38 490.24 128.44 490.21 129.79C490.68 129.08 491.3 128.53 492.08 128.14C492.86 127.75 493.72 127.56 494.65 127.56C495.77 127.55 496.76 127.8 497.63 128.31ZM497.65 136.75C498.45 135.91 498.84 134.83 498.84 133.52C498.84 132.21 498.44 131.13 497.65 130.29C496.85 129.45 495.82 129.03 494.56 129.03C493.71 129.03 492.95 129.22 492.29 129.61C491.62 130 491.11 130.53 490.75 131.21C490.39 131.88 490.21 132.66 490.21 133.52C490.21 134.84 490.61 135.91 491.4 136.75C492.2 137.59 493.25 138.01 494.57 138.01C495.82 138.01 496.85 137.59 497.65 136.75Z" />
        <path d="M511.02 127.94L510.55 129.34C510.01 129.15 509.5 129.05 509.02 129.05C508.07 129.05 507.31 129.37 506.73 130C506.15 130.63 505.87 131.5 505.87 132.61V139.26H504.29V127.78H505.48L505.79 129.47C506.48 128.19 507.6 127.55 509.14 127.55C509.82 127.55 510.45 127.68 511.02 127.94Z" />
        <path d="M521 128.68C521.79 129.36 522.18 130.35 522.18 131.63V139.26H521.01L520.72 137.18C520.29 137.89 519.7 138.45 518.97 138.85C518.23 139.26 517.37 139.46 516.39 139.46C515.27 139.46 514.37 139.17 513.72 138.6C513.06 138.03 512.73 137.25 512.73 136.26C512.73 135 513.26 134.01 514.31 133.29C515.37 132.57 516.75 132.21 518.46 132.21C519.33 132.21 520.03 132.25 520.56 132.31V131.53C520.56 130.73 520.3 130.13 519.78 129.73C519.26 129.32 518.55 129.12 517.65 129.12C516.49 129.12 515.23 129.44 513.86 130.08L513.32 128.73C514.88 128 516.37 127.64 517.81 127.64C519.15 127.65 520.22 127.99 521 128.68ZM519.47 136.8C520.17 136.01 520.54 134.96 520.57 133.65C520.02 133.58 519.39 133.55 518.7 133.55C517.33 133.55 516.27 133.78 515.52 134.24C514.77 134.7 514.39 135.34 514.39 136.17C514.39 136.74 514.59 137.19 514.99 137.51C515.39 137.83 515.94 137.99 516.65 137.99C517.83 137.98 518.77 137.59 519.47 136.8Z" />
        <path d="M533.45 127.94L532.98 129.34C532.44 129.15 531.93 129.05 531.45 129.05C530.5 129.05 529.74 129.37 529.16 130C528.58 130.63 528.3 131.5 528.3 132.61V139.26H526.72V127.78H527.91L528.22 129.47C528.91 128.19 530.03 127.55 531.57 127.55C532.26 127.55 532.88 127.68 533.45 127.94Z" />
        <path d="M546.25 127.78V127.83L539.19 144.97H537.53V144.92L540.07 138.95L535.06 127.84V127.79H536.72L540.02 135.14C540.38 135.95 540.66 136.66 540.85 137.27C541.06 136.65 541.32 135.94 541.63 135.14L544.62 127.79H546.25V127.78Z" />
      </svg>
    {% else %}
      <div></div>
    {% endif %}
    <div class="btns">
      <div class="local-btns">
        {% if not user %}
          {% if title != 'Login' %}
              <button class="auth" onclick="window.location.href = `{{ url_for('login') }}`">{{ _('Login') }}</button>
          {% endif %}
          {% if title != 'Register' %}
              <button class="auth" onclick="window.location.href = `{{ url_for('registration') }}`">{{ _('Register') }}</button>
          {% endif %}
        {% endif %}
        
        {% block btns %}
        {% endblock %}
      </div>
      {% if user %}
        {{ drop_menu(user, title=title) }}
      {% endif %}
    </div>
  </header>
  <div class="app">
      {% block content %}
      {% endblock %}
  </div>
  <footer class='footer'> <span>&copy Library Hexagon</span> <a href="{{ url_for('contacts') }}">{{ _('Contact us') }}</a></footer>
</body>
</html>


